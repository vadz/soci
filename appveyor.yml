version: 4.0.0.{build}

platform:
    - Win32
    - x64

configuration:
    - Debug
    - Release

matrix:
    fast_finish: true

before_build:
    - if "%platform%"=="Win32" cmake -G"Visual Studio 12"
    - if "%platform%"=="64" cmake -G"Visual Studio 12 Win64"

build:
    project: SOCI.sln
    parallel: true
    verbosity: detailed

test_script:
    - ctest -C %configuration% -VV
